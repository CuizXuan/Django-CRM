/* 筛选组件样式修复 - 确保框线和箭头正确显示 */

/* 强制显示所有筛选按钮的边框 */
.filter-item button,
button[data-radix-select-trigger],
button[data-radix-popover-trigger] {
	border: 1px solid #d9d9d9 !important;
	background: #ffffff !important;
	height: 36px !important;
	font-size: 0.875rem !important;
	display: flex !important;
	align-items: center !important;
	justify-content: flex-start !important;
	padding: 0 12px !important;
	padding-right: 32px !important;
	position: relative !important;
	width: 100% !important;
	overflow: hidden !important;
}

/* 暗色模式适配 */
.dark .filter-item button {
	border: 1px solid #374151 !important;
	background: #1f2937 !important;
}

/* 确保按钮有正确的内边距和高度 */
.filter-item button[data-radix-select-trigger],
.filter-item button[data-radix-popover-trigger] {
	height: 36px !important;
	padding: 0 12px !important;
	padding-right: 32px !important;
	display: flex !important;
	align-items: center !important;
	justify-content: flex-start !important;
	width: 100% !important;
	position: relative !important;
}

/* 箭头绝对定位到右侧 - 确保所有箭头都显示 */
.filter-item button .lucide-chevron-down,
button[data-radix-select-trigger] .lucide-chevron-down,
button[data-radix-popover-trigger] .lucide-chevron-down,
[data-radix-select-trigger] svg,
[data-radix-popover-trigger] svg {
	position: absolute !important;
	right: 12px !important;
	top: 50% !important;
	transform: translateY(-50%) !important;
	width: 14px !important;
	height: 14px !important;
	color: #6b7280 !important;
	z-index: 10 !important;
	flex-shrink: 0 !important;
	opacity: 0.5 !important;
}

/* 确保所有ChevronDown图标都显示 */
svg.lucide.lucide-chevron-down {
	position: absolute !important;
	right: 12px !important;
	top: 50% !important;
	transform: translateY(-50%) !important;
	width: 14px !important;
	height: 14px !important;
	color: #6b7280 !important;
	opacity: 0.5 !important;
}

/* 清除按钮绝对定位 */
.filter-item button span[role="button"] {
	position: absolute !important;
	right: 32px !important;
	top: 50% !important;
	transform: translateY(-50%) !important;
	z-index: 10 !important;
}

/* 文本内容区域 */
.filter-item button > span,
.filter-item button > div {
	padding-right: 40px !important;
}

/* 确保搜索框也有正确的边框 - 固定宽度 150px */
.filter-item input,
input.filter-search-input {
	border: 1px solid #d9d9d9 !important;
	background: #ffffff !important;
	height: 36px !important;
	width: 150px !important;
	min-width: 150px !important;
	max-width: 150px !important;
	font-size: 0.875rem !important;
	padding-left: 2.5rem !important;
	padding-right: 2.5rem !important;
}

/* 搜索框容器也设置固定宽度 */
.filter-item:has(input[type="text"]),
.filter-item:has(.filter-search-input) {
	width: 150px !important;
	min-width: 150px !important;
	max-width: 150px !important;
	flex-shrink: 0 !important;
}

.dark .filter-item input {
	border: 1px solid #374151 !important;
	background: #1f2937 !important;
}

/* 下拉箭头位置调整 */
button[data-radix-select-trigger] > div:last-child,
[data-radix-select-trigger] > div:last-child,
[data-radix-popover-trigger] > div:last-child {
	position: absolute !important;
	right: 0.75rem !important;
	top: 50% !important;
	transform: translateY(-50%) !important;
	pointer-events: none !important;
}

/* 确保所有 Radix UI 触发器按钮有正确样式 */
[data-radix-select-trigger] {
	border: 1px solid #d9d9d9 !important;
	background: #ffffff !important;
	height: 36px !important;
	font-size: 0.875rem !important;
	display: flex !important;
	align-items: center !important;
	justify-content: flex-start !important;
	padding: 0 12px !important;
	padding-right: 32px !important;
	position: relative !important;
	width: 100% !important;
	overflow: hidden !important;
	border-radius: 6px !important;
}

/* 暗色模式下的 Radix UI 按钮 */
.dark [data-radix-select-trigger] {
	border: 1px solid #374151 !important;
	background: #1f2937 !important;
	color: #f3f4f6 !important;
}

/* 搜索框样式 */
.filter-search-input {
	font-size: 0.875rem;
	line-height: 1.25rem;
}

.filter-search-input::placeholder {
	color: rgb(156 163 175);
}

.dark .filter-search-input::placeholder {
	color: rgb(156 163 175);
}

/* 搜索图标位置 */
.search-icon-wrapper {
	position: absolute;
	left: 0.75rem;
	top: 50%;
	transform: translateY(-50%);
	z-index: 10;
	pointer-events: none;
}

/* 清除按钮位置 */
.clear-button-wrapper {
	position: absolute;
	right: 0.75rem;
	top: 50%;
	transform: translateY(-50%);
	z-index: 10;
	opacity: 0;
	transition: opacity 0.2s ease-in-out;
}

/* 有值时显示清除按钮 */
.has-value .clear-button-wrapper {
	opacity: 1;
}

/* 下拉菜单内容滚动条样式 */
[data-radix-dropdown-menu-content] {
	max-height: 240px;
	overflow-y: auto;
}

[data-radix-dropdown-menu-content]::-webkit-scrollbar {
	width: 6px;
}

[data-radix-dropdown-menu-content]::-webkit-scrollbar-track {
	background: transparent;
}

[data-radix-dropdown-menu-content]::-webkit-scrollbar-thumb {
	background-color: rgb(203 213 225);
	border-radius: 3px;
}

[data-radix-dropdown-menu-content]::-webkit-scrollbar-thumb:hover {
	background-color: rgb(156 163 175);
}

.dark [data-radix-dropdown-menu-content]::-webkit-scrollbar-thumb {
	background-color: rgb(75 85 99);
}

.dark [data-radix-dropdown-menu-content]::-webkit-scrollbar-thumb:hover {
	background-color: rgb(156 163 175);
}

/* 字体统一 */
.filter-text {
	font-size: 0.875rem;
	line-height: 1.25rem;
	font-weight: 400;
	font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
}

/* 标签样式 */
.filter-label {
	font-size: 0.75rem;
	font-weight: 500;
	color: rgb(107 114 128);
	margin-bottom: 0.25rem;
	display: block;
}

.dark .filter-label {
	color: rgb(156 163 175);
}

/* 激活状态边框 */
.filter-active {
	border-color: rgb(59 130 246) !important;
	box-shadow: 0 0 0 1px rgb(59 130 246) !important;
}

.dark .filter-active {
	border-color: rgb(96 165 250) !important;
	box-shadow: 0 0 0 1px rgb(96 165 250) !important;
}

/* 按钮悬浮效果 */
.filter-button {
	transition: all 0.2s ease-in-out;
}

.filter-button:hover {
	transform: translateY(-1px);
	box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -1px rgb(0 0 0 / 0.06);
}

/* 修复ChevronDown图标位置 */
button[data-radix-select-trigger] svg[data-lucide="chevron-down"] {
	width: 1rem;
	height: 1rem;
	margin-left: 0.5rem;
	flex-shrink: 0;
	opacity: 0.5;
}

/* 输入框焦点样式 */
.filter-input:focus {
	outline: 2px solid transparent;
	outline-offset: 2px;
}

.filter-input:focus-visible {
	box-shadow: 0 0 0 2px rgb(59 130 246 / 0.2);
}

/* 响应式调整 */
@media (max-width: 640px) {
	.filter-search-input {
		font-size: 0.8125rem;
	}

	.filter-text {
		font-size: 0.8125rem;
	}
}

/* 日期选择器样式 */
.filter-date-input {
	font-size: 0.875rem;
	line-height: 1.25rem;
}

/* Popover内容样式 */
[data-radix-popover-content] {
	z-index: 50;
	background: white;
	border: 1px solid rgb(229 231 235);
	border-radius: 0.5rem;
	box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -2px rgb(0 0 0 / 0.05);
}

.dark [data-radix-popover-content] {
	background: rgb(31 41 55);
	border-color: rgb(75 85 99);
}

/* 确保所有文本对齐 */
.filter-align-left {
	text-align: left;
}

.filter-align-center {
	text-align: center;
}

.filter-align-right {
	text-align: right;
}

/* 清除按钮hover效果 */
.clear-button {
	border-radius: 0.25rem;
	padding: 0.25rem;
	transition: all 0.15s ease-in-out;
}

.clear-button:hover {
	background-color: rgb(243 244 246);
}

.dark .clear-button:hover {
	background-color: rgb(55 65 81);
}

/* 全局强制样式 - 确保所有筛选组件样式正确 */
/* 搜索框宽度强制设置 */
.SearchInput,
.SearchInput .filter-item,
.SearchInput input {
	width: 150px !important;
	min-width: 150px !important;
	max-width: 150px !important;
}

/* SelectFilter 宽度设置 */
.SelectFilter .filter-item {
	width: 100% !important;
}

/* DateRangeFilter 宽度设置 */
.DateRangeFilter .filter-item {
	width: 100% !important;
}

/* 确保所有容器内的输入框和按钮样式统一 */
.filter-bar [data-radix-select-trigger] {
	border: 1px solid #d9d9d9 !important;
	background: #ffffff !important;
	height: 36px !important;
	font-size: 0.875rem !important;
}

/* 确保所有按钮内的 ChevronDown 箭头都显示 */
button svg.lucide-chevron-down,
[data-radix-select-trigger] svg.lucide-chevron-down,
[data-radix-popover-trigger] svg.lucide-chevron-down {
	display: block !important;
	position: absolute !important;
	right: 12px !important;
	top: 50% !important;
	transform: translateY(-50%) !important;
	width: 14px !important;
	height: 14px !important;
	color: #6b7280 !important;
	opacity: 0.5 !important;
}